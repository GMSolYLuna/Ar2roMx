<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:r="clr-namespace:GunboundImageCreator.App.Properties"
        xmlns:Converters="clr-namespace:GunboundImageCreator.App.Converters"
        xmlns:local="clr-namespace:GunboundImageCreator.App"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        x:Class="GunboundImageCreator.App.MainWindow"
        Title="{x:Static r:Resources.WindowTitle}"
        Height="450"
        Width="856"
        MinWidth="750"
        x:Name="mainWindow"
        Loaded="WindowLoaded"
        WindowStartupLocation="CenterScreen"
        Background="#FF2B2B2B"
        Icon="/Ar2roMxImageCreator;component/AGICIcon.ico"
        SnapsToDevicePixels="True">

    <Window.Resources>
        <Converters:IntToBooleanConverter x:Key="intToBool" />
    </Window.Resources>

    <Window.CommandBindings>
        <CommandBinding Command="Open"
                        Executed="OpenImgFile" />
        <CommandBinding Command="New"
                        Executed="NewImgFile" />
    </Window.CommandBindings>

    <Window.InputBindings>
        <KeyBinding Key="O"
                    Modifiers="Control"
                    Command="Open" />
        <KeyBinding Key="N"
                    Modifiers="Control"
                    Command="New" />
    </Window.InputBindings>

    <DockPanel IsEnabled="{Binding Path=IsBusy}">

        <Menu Height="23"
              DockPanel.Dock="Top"
              x:Name="mnuMain"
              VerticalAlignment="Top">
            <Menu.Background>
                <LinearGradientBrush EndPoint="0,1"
                                     StartPoint="0,0">
                    <GradientStop Color="#FF006793" />
                    <GradientStop Color="#FF00A7FF"
                                  Offset="1" />
                </LinearGradientBrush>
            </Menu.Background>
            <MenuItem Header="{x:Static r:Resources.FileLabel}"
                      Foreground="White">

                <MenuItem Header="{x:Static r:Resources.OpenLabel}"
                          x:Name="menuOpen"
                          InputGestureText="Ctrl+O"
                          Command="Open"
                          Foreground="Black" />
                <Separator />
                <MenuItem Header="{x:Static r:Resources.NewLabel}"
                          x:Name="menuCreate"
                          InputGestureText="Ctrl+N"
                          Command="New"
                          Foreground="Black" />
            </MenuItem>
            <MenuItem Header="{x:Static r:Resources.LanguageLabel}"
                      x:Name="menuLanguages"
                      Foreground="White">
                <MenuItem Header="{x:Static r:Resources.SpanishLabel}"
                          x:Name="menuSpanish"
                          Click="MenuLanguageClick"
                          Tag="es-ES"
                          IsCheckable="True"
                          Foreground="Black" />
                <MenuItem Header="{x:Static r:Resources.EnglishLabel}"
                          x:Name="menuEnglish"
                          Click="MenuLanguageClick"
                          IsCheckable="True"
                          Tag="en-US"
                          Foreground="Black" />
            </MenuItem>
        </Menu>
        <StatusBar Height="23"
                   DockPanel.Dock="Bottom"
                   Margin="0"
                   x:Name="statusBarImgCreator"
                   VerticalAlignment="Top">
            <StatusBarItem>
                <TextBlock x:Name="tbImageCount"
                           Text="{Binding GbImageFile.Images.Count, FallbackValue=0}" />
            </StatusBarItem>
            <Separator />
            <StatusBarItem MaxWidth="400">
                <TextBlock x:Name="tbImagePath"
                           Text="{Binding GbImageFile.Path, FallbackValue={x:Static r:Resources.FileNotOpenLabel}}"
                           ToolTip="{Binding GbImageFile.Path}" />
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <ProgressBar Width="75"
                             Height="15"
                             Maximum="100"
                             Name="pbarImgEditor"
                             VerticalAlignment="Center" />
            </StatusBarItem>
        </StatusBar>

        <Grid Height="Auto">

            <TabControl x:Name="tabCtrlMain"
                        Margin="0,5,0,0"
                        SelectionChanged="TabControlSelectionChanged">
                <TabItem Header="{x:Static r:Resources.EditorLabel}">
                    <Grid Background="#FF2B2B2B">
                        <ScrollViewer Margin="0,3,0,0"
                                      HorizontalAlignment="Left"
                                      VerticalScrollBarVisibility="Auto"
                                      Width="Auto">
                            <StackPanel HorizontalAlignment="Left"
                                        Orientation="Vertical"
                                        Width="477">
                                <Expander IsExpanded="True"
                                          Height="Auto">
                                    <Expander.Header>
                                        <TextBlock Foreground="White"
                                                   Text="{x:Static r:Resources.ImageLabel}" />
                                    </Expander.Header>
                                    <Grid HorizontalAlignment="Left">
                                        <ComboBox Height="23"
                                                  HorizontalAlignment="Left"
                                                  Margin="24,253.667,0,0"
                                                  x:Name="comboBoxAddImageType"
                                                  ItemsSource="{Binding TransparencyTypes}"
                                                  SelectedIndex="0"
                                                  DisplayMemberPath="Value"
                                                  SelectedValuePath="Key"
                                                  VerticalAlignment="Top"
                                                  IsEnabled="{Binding IsOpenedOrCreated, FallbackValue=False, Mode=OneWay}"
                                                  Width="120" />

                                        <Button Content="{x:Static r:Resources.AddLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="148,250.917,0,0"
                                                x:Name="btnOpenBmp"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                Width="99"
                                                IsEnabled="{Binding IsOpenedOrCreated, FallbackValue=False, Mode=OneWay}"
                                                Click="BtnOpenBmpClick" />
                                        <TextBox Height="23"
                                                 HorizontalAlignment="Left"
                                                 Margin="80,11,0,0"
                                                 x:Name="txtNumImages"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 Text="{Binding GbImageFile.Images.Count, FallbackValue=0, Mode=OneWay}"
                                                 IsReadOnly="True"
                                                 VerticalAlignment="Top"
                                                 Width="47" />
                                        <TextBlock Height="23"
                                                   HorizontalAlignment="Left"
                                                   Margin="23,13,0,0"
                                                   x:Name="txtBlockImages"
                                                   Text="{x:Static r:Resources.ImagesLabel}"
                                                   VerticalAlignment="Top"
                                                   Foreground="White" />
                                        <Button Content="{x:Static r:Resources.SaveLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="227.334,162,0,0"
                                                x:Name="btnSaveImg"
                                                VerticalAlignment="Top"
                                                Width="86"
                                                Style="{StaticResource BtnStyle}"
                                                IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                Click="BtnSaveImgClick" />
                                        <Button Content="{x:Static r:Resources.DeleteLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="227.334,130,0,0"
                                                x:Name="btnDeleteImage"
                                                IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                VerticalAlignment="Top"
                                                Width="86"
                                                Style="{StaticResource BtnStyle}"
                                                SnapsToDevicePixels="True"
                                                Click="BtnDeleteImageClick" />
                                        <TextBox Text="{Binding SelectedItem.XCenter, ElementName=lboxImages, FallbackValue=0}"
                                                 Height="23"
                                                 HorizontalAlignment="Left"
                                                 Margin="261.334,9,0,0"
                                                 x:Name="txtCenterX"
                                                 VerticalAlignment="Top"
                                                 Width="51"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}}" />
                                        <TextBlock Height="23"
                                                   HorizontalAlignment="Left"
                                                   Margin="206.247,12,0,0"
                                                   x:Name="txtBlockCenterX"
                                                   Text="{x:Static r:Resources.CoordXLabel}"
                                                   VerticalAlignment="Top"
                                                   Foreground="White" />
                                        <TextBox Text="{Binding SelectedItem.YCenter, ElementName=lboxImages, FallbackValue=0}"
                                                 Height="23"
                                                 HorizontalAlignment="Left"
                                                 Margin="261.334,38,0,0"
                                                 x:Name="textBox2"
                                                 VerticalAlignment="Top"
                                                 Width="51"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}}" />
                                        <TextBlock Height="23"
                                                   HorizontalAlignment="Left"
                                                   Margin="206.247,41,0,0"
                                                   x:Name="txtBlockCenterY"
                                                   Text="{x:Static r:Resources.CoordYLabel}"
                                                   IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}}"
                                                   VerticalAlignment="Top"
                                                   Foreground="White" />
                                        <ComboBox Margin="24,65,0,0"
                                                  x:Name="comboBoxImageTypes"
                                                  SelectedValue="{Binding Path=SelectedItem.Transparency, ElementName=lboxImages, Mode=OneWay}"
                                                  ItemsSource="{Binding TransparencyTypes}"
                                                  DisplayMemberPath="Value"
                                                  SelectedValuePath="Key"
                                                  IsEnabled="False"
                                                  Height="23"
                                                  VerticalAlignment="Top"
                                                  d:LayoutOverrides="VerticalAlignment"
                                                  HorizontalAlignment="Left"
                                                  Width="145" />
                                        <!--IsEnabled="{Binding Path=GbImageFile.Images.Count, Converter={StaticResource intToBool}}"-->
                                        <TextBlock Height="23"
                                                   HorizontalAlignment="Left"
                                                   Margin="23,42,0,0"
                                                   x:Name="txtBlockImageType"
                                                   Text="{x:Static r:Resources.TransparencyTypeLabel}"
                                                   VerticalAlignment="Top"
                                                   Foreground="White" />
                                        <TextBlock Foreground="White"
                                                   HorizontalAlignment="Left"
                                                   Margin="24,233.707,0,0"
                                                   x:Name="tBlockBmpTransparency"
                                                   Text="{x:Static r:Resources.TransparencyTypeLabel}"
                                                   VerticalAlignment="Top" />
                                        <Button Content="{x:Static r:Resources.ExportLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                Margin="227.334,194,0,0"
                                                x:Name="btnExport"
                                                SnapsToDevicePixels="True"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                Width="86"
                                                Click="BtnExportClick" />
                                        <CheckBox Content="Bmp"
                                                  Height="16"
                                                  HorizontalAlignment="Left"
                                                  Margin="182.064,200.02,0,0"
                                                  IsChecked="True"
                                                  IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}}"
                                                  Foreground="White"
                                                  x:Name="cboxImgType"
                                                  VerticalAlignment="Top" />
                                        <TextBox Height="23"
                                                 HorizontalAlignment="Left"
                                                 IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}}"
                                                 Margin="261.334,67,0,0"
                                                 x:Name="textBox1"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 Text="{Binding SelectedItem.Width, ElementName=lboxImages, FallbackValue=0}"
                                                 IsReadOnly="True"
                                                 VerticalAlignment="Top"
                                                 Width="51" />
                                        <TextBlock Foreground="White"
                                                   Height="23"
                                                   HorizontalAlignment="Left"
                                                   Margin="206.247,70,0,0"
                                                   x:Name="textBlock1"
                                                   Text="{x:Static r:Resources.WidthLabel}"
                                                   VerticalAlignment="Top" />
                                        <TextBox Height="23"
                                                 HorizontalAlignment="Left"
                                                 IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}}"
                                                 Margin="261.334,96,0,0"
                                                 x:Name="textBox3"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 Text="{Binding SelectedItem.Height, ElementName=lboxImages, FallbackValue=0}"
                                                 IsReadOnly="True"
                                                 VerticalAlignment="Top"
                                                 Width="51"
                                                 d:LayoutOverrides="VerticalAlignment" />
                                        <TextBlock Foreground="White"
                                                   Height="23"
                                                   HorizontalAlignment="Left"
                                                   IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}}"
                                                   Margin="206.247,99,0,0"
                                                   x:Name="textBlock2"
                                                   Text="{x:Static r:Resources.HeightLabel}"
                                                   VerticalAlignment="Top"
                                                   d:LayoutOverrides="VerticalAlignment" />
                                        <ListBox Height="135.658"
                                                 AlternationCount="2"
                                                 HorizontalAlignment="Left"
                                                 Background="#FF5A5A5A"
                                                 BorderBrush="#FFCACACA"
                                                 Foreground="White"
                                                 Margin="24,94.049,0,0"
                                                 x:Name="lboxImages"
                                                 ItemContainerStyle="{StaticResource AlternateColorListViewItems}"
                                                 SelectedIndex="0"
                                                 DisplayMemberPath="Name"
                                                 ItemsSource="{Binding GbImageFile.Images}"
                                                 IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                 VerticalAlignment="Top"
                                                 Width="145"
                                                 AllowDrop="True" />
                                        <Button Height="24"
                                                HorizontalAlignment="Left"
                                                Margin="173,138,0,0"
                                                x:Name="btnMoveImgUp"
                                                VerticalAlignment="Top"
                                                Width="24"
                                                IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                Style="{DynamicResource BtnStyle}"
                                                Click="BtnMoveImgUpClick">
                                            <Image Width="24"
                                                   Height="24"
                                                   Source="/Ar2roMxImageCreator;component/Images/arrowup.png"
                                                   Stretch="None" />
                                        </Button>
                                        <Button Height="24"
                                                HorizontalAlignment="Left"
                                                Margin="173,166,0,0"
                                                x:Name="btnMoveImgDown"
                                                SnapsToDevicePixels="True"
                                                VerticalAlignment="Top"
                                                Width="24"
                                                IsEnabled="{Binding GbImageFile.Images.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                Style="{DynamicResource BtnStyle}"
                                                Click="BtnMoveImgDownClick">
                                            <Image Width="24"
                                                   Height="24"
                                                   Source="/Ar2roMxImageCreator;component/Images/arrowdown.png"
                                                   Stretch="None" />
                                        </Button>
                                        <ListBox AlternationCount="2"
                                                 HorizontalAlignment="Left"
                                                 IsEnabled="{Binding Path=ImgFiles.Count, FallbackValue=False}"
                                                 ItemsSource="{Binding Path=ImgFiles}"
                                                 Foreground="White"
                                                 DisplayMemberPath="Name"
                                                 Margin="328,42,0,0"
                                                 Name="lboxFiles"
                                                 Background="#FF5A5A5A"
                                                 BorderBrush="#FFCACACA"
                                                 Width="144"
                                                 Height="188"
                                                 VerticalAlignment="Top">
                                            <ListBox.ItemContainerStyle>
                                                <Style TargetType="{x:Type ListBoxItem}">
                                                    <Style.Triggers>
                                                        <Trigger Property="ItemsControl.AlternationIndex"
                                                                 Value="1">
                                                            <Setter Property="Background"
                                                                    Value="#646464"></Setter>
                                                        </Trigger>
                                                        <Trigger Property="ItemsControl.AlternationIndex"
                                                                 Value="2">
                                                            <Setter Property="Background"
                                                                    Value="White"></Setter>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                    <Setter Property="Height"
                                                            Value="Auto" />
                                                    <EventSetter Event="MouseDoubleClick"
                                                                 Handler="ImgFilesDoubleClick" />
                                                </Style>
                                            </ListBox.ItemContainerStyle>
                                        </ListBox>
                                        <Button Content="{x:Static r:Resources.SelectFolderLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="328,7,0,0"
                                                Name="btnSelectFolder"
                                                SnapsToDevicePixels="True"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                Width="86"
                                                Click="BtnSelectFolderClick" />
                                    </Grid>
                                </Expander>

                                <Expander Width="Auto"
                                          x:Name="expanderAnimation"
                                          IsExpanded="False"
                                          Expanded="ExpanderAnimationExpanded"
                                          Collapsed="ExpanderAnimationCollapsed">
                                    <Expander.Header>
                                        <TextBlock Text="{x:Static r:Resources.AnimationLabel}"
                                                   Foreground="White" />
                                    </Expander.Header>
                                    <Grid HorizontalAlignment="Left"
                                          MinHeight="250"
                                          Width="326">
                                        <ListBox Height="211"
                                                 Margin="24,98,0,0"
                                                 Background="#FF5A5A5A"
                                                 BorderBrush="#FFCACACA"
                                                 Foreground="White"
                                                 x:Name="lboxKeyFrames"
                                                 ItemContainerStyle="{StaticResource AlternateColorListViewItems}"
                                                 IsEnabled="{Binding AnimationFile.TimeLines.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                 ItemsSource="{Binding SelectedItem.Frames, ElementName=comboBoxAniTimeLines}"
                                                 DisplayMemberPath="Name"
                                                 SelectedValue="SelectedItem"
                                                 SelectedIndex="0"
                                                 VerticalAlignment="Top"
                                                 HorizontalAlignment="Left"
                                                 Width="158"
                                                 AlternationCount="2" />
                                        <Button Content="{x:Static r:Resources.AddKeyFrameLabel}"
                                                HorizontalAlignment="Left"
                                                Margin="191,147,0,0"
                                                x:Name="btnAddKeyFrame"
                                                IsEnabled="{Binding Items.Count, Converter={StaticResource intToBool}, ElementName=comboBoxAniTimeLines, FallbackValue=False}"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                Height="28"
                                                Width="120"
                                                Click="BtnAddKeyFrameClick" />
                                        <TextBox Height="23"
                                                 HorizontalAlignment="Left"
                                                 Margin="263,85,0,0"
                                                 x:Name="tBoxKeyFrame"
                                                 Text="{Binding SelectedItem.KeyFrame, ElementName=lboxKeyFrames, FallbackValue=0}"
                                                 IsEnabled="{Binding AnimationFile.TimeLines.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 VerticalAlignment="Top"
                                                 Width="43" />
                                        <TextBox Height="23"
                                                 HorizontalAlignment="Left"
                                                 Margin="263,114,0,0"
                                                 x:Name="tBoxDuration"
                                                 Text="{Binding SelectedItem.Duration, ElementName=lboxKeyFrames, FallbackValue=0}"
                                                 IsEnabled="{Binding AnimationFile.TimeLines.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 VerticalAlignment="Top"
                                                 Width="43" />
                                        <TextBlock Height="23"
                                                   Foreground="White"
                                                   HorizontalAlignment="Left"
                                                   Margin="191,85,0,0"
                                                   x:Name="tBlockKeyFrame"
                                                   Text="{x:Static r:Resources.KeyFrameLabel}"
                                                   VerticalAlignment="Top" />
                                        <TextBlock Height="23"
                                                   Foreground="White"
                                                   HorizontalAlignment="Left"
                                                   Margin="191,114,0,0"
                                                   x:Name="tBlockDuration"
                                                   Text="{x:Static r:Resources.DurationLabel}"
                                                   VerticalAlignment="Top" />
                                        <Button Content="{x:Static r:Resources.RemoveKeyFrameLabel}"
                                                HorizontalAlignment="Left"
                                                Margin="191,181,0,0"
                                                x:Name="btnRemoveKeyFrame"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                IsEnabled="{Binding Items.Count, Converter={StaticResource intToBool}, ElementName=lboxKeyFrames, FallbackValue=False}"
                                                Height="28"
                                                Width="120"
                                                Click="BtnRemoveKeyFrameClick" />
                                        <Button Content="{x:Static r:Resources.OpenAnimationLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="22,6,0,0"
                                                x:Name="btnOpenAniFile"
                                                IsEnabled="{Binding IsOpenedOrCreated, FallbackValue=False, Mode=OneWay}"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                Width="111"
                                                Click="BtnOpenAniFileClick" />
                                        <Button Content="{x:Static r:Resources.CreateAnimationLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="138,6,0,0"
                                                x:Name="btnCreateAniFile"
                                                IsEnabled="{Binding IsOpenedOrCreated, FallbackValue=False, Mode=OneWay}"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                Width="111"
                                                Click="BtnCreateAniFileClick" />
                                        <ComboBox Height="23"
                                                  HorizontalAlignment="Left"
                                                  Margin="22,47,0,0"
                                                  x:Name="comboBoxAniTimeLines"
                                                  IsEnabled="{Binding AnimationFile.TimeLines.Count, Converter={StaticResource intToBool}, FallbackValue=False}"
                                                  VerticalAlignment="Top"
                                                  ItemsSource="{Binding AnimationFile.TimeLines}"
                                                  DisplayMemberPath="AnimationType"
                                                  SelectedValuePath="{Binding}"
                                                  SelectedIndex="0"
                                                  Width="120" />
                                        <Button Content="{x:Static r:Resources.DeleteTimeLineLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                IsEnabled="{Binding Items.Count, ElementName=comboBoxAniTimeLines, FallbackValue=False}"
                                                Margin="150,44,0,0"
                                                x:Name="btnDeleteTimeLine"
                                                Style="{StaticResource BtnStyle}"
                                                VerticalAlignment="Top"
                                                Width="147"
                                                Click="BtnDeleteTimeLineClick" />
                                        <TextBox Height="23"
                                                 HorizontalAlignment="Left"
                                                 Margin="191,238,0,0"
                                                 x:Name="txtAniType"
                                                 Style="{StaticResource TxtBoxStyle}"
                                                 IsEnabled="{Binding IsAniOpenedOrCreated, FallbackValue=False, Mode=OneWay}"
                                                 VerticalAlignment="Top"
                                                 Width="120" />
                                        <Button Content="{x:Static r:Resources.CreateTimeLineLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="189,267,0,0"
                                                x:Name="btnCreateTimeLine"
                                                Style="{StaticResource BtnStyle}"
                                                IsEnabled="{Binding IsAniOpenedOrCreated, FallbackValue=False, Mode=OneWay}"
                                                VerticalAlignment="Top"
                                                Width="125"
                                                Click="BtnCreateTimeLineClick" />
                                        <TextBlock Foreground="White"
                                                   HorizontalAlignment="Left"
                                                   Margin="191,218.04,0,0"
                                                   x:Name="tbAniType"
                                                   Text="{x:Static r:Resources.AnimationTypeLabel}"
                                                   VerticalAlignment="Top" />
                                        <Button Content="{x:Static r:Resources.SaveLabel}"
                                                Height="28"
                                                HorizontalAlignment="Left"
                                                Margin="24,316,0,0"
                                                x:Name="btnSaveAnimation"
                                                Style="{StaticResource BtnStyle}"
                                                IsEnabled="{Binding IsAniOpenedOrCreated, FallbackValue=False, Mode=OneWay}"
                                                VerticalAlignment="Top"
                                                Width="75"
                                                Click="BtnSaveAnimationClick" />
                                        <CheckBox Content="{x:Static r:Resources.RepeatLabel}"
                                                  Foreground="White"
                                                  IsChecked="{Binding SelectedItem.Repeat, ElementName=comboBoxAniTimeLines}"
                                                  IsEnabled="{Binding Items.Count, ElementName=comboBoxAniTimeLines, FallbackValue=False}"
                                                  HorizontalAlignment="Left"
                                                  Margin="24,76,0,0"
                                                  x:Name="checkbxRepeatTimeLine"
                                                  VerticalAlignment="Top" />
                                    </Grid>
                                </Expander>
                            </StackPanel>
                        </ScrollViewer>

                        <ScrollViewer Margin="481,3,6,5"
                                      HorizontalScrollBarVisibility="Auto"
                                      VerticalScrollBarVisibility="Auto"
                                      Background="#FF7A7A7A"
                                      Padding="10">
                            <StackPanel x:Name="stackPanel1"
                                        Orientation="Vertical"
                                        HorizontalAlignment="Left">
                                <ItemsControl Grid.Column="1"
                                              Grid.Row="0"
                                              Width="Auto"
                                              Height="Auto"
                                              Padding="5"
                                              HorizontalAlignment="Left"
                                              ItemsSource="{Binding ImgFrames}"
                                              Grid.ColumnSpan="2" />
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
                <TabItem Header="{x:Static r:Resources.AnimationPreviewLabel}">
                    <Grid Background="#FF2B2B2B">
                        <ComboBox DisplayMemberPath="AnimationType"
                                  Height="23"
                                  HorizontalAlignment="Center"
                                  IsEnabled="{Binding AnimationFile.TimeLines.Count, Converter={StaticResource intToBool}}"
                                  ItemsSource="{Binding AnimationFile.TimeLines}"
                                  Margin="0,15,0,0"
                                  x:Name="cboxChangeAni"
                                  SelectedIndex="{Binding SelectedIndex, ElementName=comboBoxAniTimeLines, Mode=TwoWay}"
                                  SelectedValuePath="{Binding}"
                                  VerticalAlignment="Top"
                                  Width="120" />
                        <local:AnimationFrameImage HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   x:Name="aniImage"
                                                   FrameHeader="Animation"
                                                   Margin="0" />
                    </Grid>
                </TabItem>
                <TabItem Header="{x:Static r:Resources.AvatarPreviewLabel}">
                    <Grid Background="#FF2B2B2B">
                        <Canvas x:Name="canvasAvatarPreview"
                                RenderTransformOrigin="0.5,0.5"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center">
                            <local:AnimationFrameImage HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       x:Name="avaFlagPreviewImage"
                                                       FrameHeader="Animation"
                                                       Margin="0" />
                            <local:AnimationFrameImage HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       x:Name="avaHeadPreviewImage"
                                                       FrameHeader="Animation"
                                                       Margin="0" />
                            <local:AnimationFrameImage HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       x:Name="avaGlassesPreviewImage"
                                                       FrameHeader="Animation"
                                                       Margin="0" />
                            <local:AnimationFrameImage HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       x:Name="avaBodyPreviewImage"
                                                       FrameHeader="Animation"
                                                       Margin="0" />
                        </Canvas>
                        <Button Content="{x:Static r:Resources.ResetLabel}"
                                x:Name="btnReset"
                                VerticalAlignment="Top"
                                Height="28"
                                Style="{DynamicResource BtnStyle}"
                                Click="BtnResetClick"
                                HorizontalAlignment="Left"
                                Width="Auto"
                                Margin="6,10,0,0" />
                        <Button Content="{x:Static r:Resources.WearAvatarLabel}"
                                Height="28"
                                Margin="6,44,0,0"
                                x:Name="btnSetAvatar"
                                Style="{DynamicResource BtnStyle}"
                                VerticalAlignment="Top"
                                Width="110"
                                Click="BtnSetAvatarClick"
                                HorizontalAlignment="Left" />
                    </Grid>
                </TabItem>
            </TabControl>
        </Grid>
    </DockPanel>
</Window>
